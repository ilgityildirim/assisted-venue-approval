# Venue Validation System - Environment Configuration Template
# Copy this file to .env and update with your actual values

# Configuration Management
CONFIG_FILE=

# Testing Configuration  
DATABASE_URL_TEST=

# Venue Specification Rules
SPEC_MIN_CONTACT_FIELDS=2
SPEC_REQUIRE_GOOGLE_DATA=true
SPEC_MAX_DISTANCE_METERS=500
SPEC_ENABLE_VEGAN_RELEVANCE=true

# Environment and Timeouts
ENV=development
LOG_FILE=/var/log/venue-validation/app.log
DB_READ_TIMEOUT=8s
DB_WRITE_TIMEOUT=6s
OPENAI_TIMEOUT=60s

# --- AI / OpenAI ---
# Model and generation controls
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.1
OPENAI_MAX_TOKENS=250
OPENAI_REQUEST_TIMEOUT_SECONDS=60

# Batch processing
OPENAI_MAX_BATCH_SIZE=5

# --- Prompts ---
# Directory to look for prompt templates before falling back to embedded ones.
# If empty, only embedded prompts are used.
PROMPT_DIR=./prompts

# If true, only use stable prompt variants (ignore experimental weights).
PROMPT_STABLE_ONLY=false

# Weighted selection across versions, comma-separated name=weight.
# Example: prefer v1 (stable) 70%, v2 (experimental) 30%.
PROMPT_WEIGHTS=unified_user@v1=70,unified_user@v2=30

# --- Config hot reload ---
# Optional path to a .env file that the watcher polls for changes.
CONFIG_FILE=.env
# Poll interval in seconds for config reload and prompt directory rescans.
CONFIG_RELOAD_INTERVAL_SECONDS=2

# Optional: Monitoring and Performance
PROFILING_ENABLED=false
PROFILING_PORT=6060
METRICS_ENABLED=false
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health

# Optional: Performance Alerts
ALERTS_ENABLED=false
ALERT_P95_MS=500
ALERT_GOROUTINES=500
ALERT_MEM_ALLOC_MB=512
ALERT_GC_PAUSE_MS=200
ALERT_SAMPLE_EVERY_SEC=5


# Database Configuration
DATABASE_URL=mysql://happycow:123456@localhost:3306/happycow
DB_PASSWORD=123456

# API Keys (REQUIRED)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Server Configuration
PORT=8080
HEALTH_CHECK_PORT=8081

# Processing Configuration
APPROVAL_THRESHOLD=75
WORKER_COUNT=5

# Database Connection Pool Settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME_MINUTES=15
DB_CONN_MAX_IDLE_TIME_MINUTES=5

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_FILE_LOGGING=false